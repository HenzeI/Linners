/*
Created: 01/10/2023
Modified: 19/10/2023
Model: LinnerDB
Database: Oracle 11g Release 2
*/


-- Drop relationships section -------------------------------------------------

ALTER TABLE "PARADA_FAVORITA" DROP CONSTRAINT "IDPA->PFA"
/
ALTER TABLE "PARADA_FAVORITA" DROP CONSTRAINT "IDUS->PFA"
/
ALTER TABLE "LINEA" DROP CONSTRAINT "IDEM->LIN"
/
ALTER TABLE "LINEA_PARADA" DROP CONSTRAINT "IDPA->LIP"
/
ALTER TABLE "LINEA_PARADA" DROP CONSTRAINT "IDLI->LIP"
/
ALTER TABLE "TERMINAL" DROP CONSTRAINT "IDPA->TER"
/
ALTER TABLE "TERMINAL" DROP CONSTRAINT "IDEM->TER"
/

-- Drop keys for tables section -------------------------------------------------

ALTER TABLE "PARADA_FAVORITA" DROP CONSTRAINT "PK_PARADA_FAVORITA"
/
ALTER TABLE "USUARIO" DROP CONSTRAINT "PK_USUARIO"
/
ALTER TABLE "USUARIO" DROP CONSTRAINT "CORREO_ELECTRONICO"
/
ALTER TABLE "USUARIO" DROP CONSTRAINT "DNI"
/
ALTER TABLE "USUARIO" DROP CONSTRAINT "TELEFONO"
/
ALTER TABLE "LINEA" DROP CONSTRAINT "PK_LINEA"
/
ALTER TABLE "LINEA_PARADA" DROP CONSTRAINT "PK_LINEA_PARADA"
/
ALTER TABLE "TERMINAL" DROP CONSTRAINT "PK_TERMINAL"
/
ALTER TABLE "PARADA" DROP CONSTRAINT "PK_PARADA"
/
ALTER TABLE "EMPRESA" DROP CONSTRAINT "PK_EMPRESA"
/
ALTER TABLE "EMPRESA" DROP CONSTRAINT "NIF"
/

-- Drop indexes section -------------------------------------------------

DROP INDEX "IX_Relationship8"
/
DROP INDEX "IX_Relationship9"
/
DROP INDEX "IX_Relationship6"
/
DROP INDEX "IX_Relationship4"
/

-- Drop tables section ---------------------------------------------------

DROP TABLE "PARADA_FAVORITA"
/
DROP TABLE "USUARIO"
/
DROP TABLE "LINEA"
/
DROP TABLE "LINEA_PARADA"
/
DROP TABLE "TERMINAL"
/
DROP TABLE "PARADA"
/
DROP TABLE "EMPRESA"
/

-- Drop sequence section ---------------------------------------------------

DROP SEQUENCE "SECUENCIA_USUARIO_ID"
/
DROP SEQUENCE "SECUENCIA_PARADA_FAVORITA_ID"
/
DROP SEQUENCE "SECUENCIA_EMPRESA_ID"
/
DROP SEQUENCE "SECUENCIA_LINEA_ID"
/
DROP SEQUENCE "SECUENCIA_LINEA_PARADA_ID"
/
DROP SEQUENCE "SECUENCIA_PARADA_ID"
/
DROP SEQUENCE "SECUENCIA_TERMINAL_ID"
/

-- Drop procedure section ---------------------------------------------------

DROP PROCEDURE "INSERTAR_USUARIO"
/
DROP PROCEDURE "INSERTAR_EMPRESA"
/
DROP PROCEDURE "INSERTAR_PARADA"
/

-- Drop triggers section ---------------------------------------------------

DROP TRIGGER "VERIFICAR_LOCALIDAD_PF"
/
DROP TRIGGER "LIMITE_PF"
/